[]
module INJ
  sort String{} []
  sort KInt{} []
  symbol inj{Sin,Sout}(Sin):Sout []
  symbol info{S}(String{}, S) : S []
  symbol input{}(KInt{}, KInt{}, KInt{}, KInt{}) : String{} []
endmodule []

module INPUT
  import INJ []
  sort Variable{} []
  sort K{} []
  sort KBott{} []
  sort Layout{} []
  sort Id{} []
  sort Exp{} []
  sort Int{} []
  sort Cell{} []

  symbol rewId{}(Id{}, Id{}):Id{} []
  /* input(Cell): <k> A => B </k>        <env> A |-> B </env> */
  axiom{} 
\exists{Cell{}}(V0:KBott{},
\exists{Cell{}}(V4:KBott{},
\exists{Cell{}}(V1:Id{},
\exists{Cell{}}(V5:Id{},
\exists{Cell{}}(V3:K{},
\exists{Cell{}}(V7:K{},
\exists{Cell{}}(V2:Int{},
\exists{Cell{}}(V6:Int{},
    \and{Cell{}}(
        \equals{KBott{},Cell{}}(V0:KBott{},inj{Variable{},KBott{}}(\dv{Variable{}}("A"))),
    \and{Cell{}}(
        \equals{KBott{},Cell{}}(V4:KBott{},inj{Variable{},KBott{}}(\dv{Variable{}}("B"))),
    \and{Cell{}}(
        \equals{Id{},Cell{}}(V1:Id{},inj{KBott{},Id{}}(V0:KBott{})),
    \and{Cell{}}(
        \equals{Id{},Cell{}}(V5:Id{},inj{KBott{},Id{}}(V4:KBott{})),
    \and{Cell{}}(
        \equals{K{},Cell{}}(V3:K{},\or{K{}}(inj{Int{},K{}}(V2:Int{}),\or{K{}}(inj{Id{},K{}}(V1:Id{}),\bottom{K{}}()))),
    \and{Cell{}}(
        \equals{K{},Cell{}}(V7:K{},\or{K{}}(inj{Int{},K{}}(V6:Int{}),\or{K{}}(inj{Id{},K{}}(V5:Id{}),\bottom{K{}}()))),
    \and{Cell{}}(
        \equals{Int{},Cell{}}(V2:Int{},inj{KBott{},Int{}}(V0:KBott{})),
    \and{Cell{}}(
        \equals{Int{},Cell{}}(V6:Int{},inj{KBott{},Int{}}(V4:KBott{})),
cells{}(\or{K{}}(inj{Int{},K{}}(rewInt{}(V2:Int{},V6:Int{})),\or{K{}}(inj{Id{},K{}}(rewId{}(V1:Id{},V5:Id{})),\or{K{}}(rewK{}(V3:K{},V7:K{}),\bottom{K{}}()))),V3:K{},V7:K{}))))))))))))))))) []
  symbol cells{}(K{}, K{}, K{}):Cell{} []
  /* input(Cell): <k> A:Id => B:Int </k> <env> A |-> B </env> */
  axiom{} 
\exists{Cell{}}(V0:KBott{},
\exists{Cell{}}(V4:KBott{},
\exists{Cell{}}(V2:Id{},
\exists{Cell{}}(V5:Id{},
\exists{Cell{}}(V1:K{},
\exists{Cell{}}(V6:K{},
\exists{Cell{}}(V3:K{},
    \and{Cell{}}(
        \equals{KBott{},Cell{}}(V0:KBott{},inj{Variable{},KBott{}}(\dv{Variable{}}("A"))),
    \and{Cell{}}(
        \equals{KBott{},Cell{}}(V4:KBott{},inj{Variable{},KBott{}}(\dv{Variable{}}("B"))),
    \and{Cell{}}(
        \equals{Id{},Cell{}}(V2:Id{},castToId{}(V1:K{})),
    \and{Cell{}}(
        \equals{Id{},Cell{}}(V5:Id{},inj{KBott{},Id{}}(V4:KBott{})),
    \and{Cell{}}(
        \equals{K{},Cell{}}(V1:K{},\or{K{}}(inj{Int{},K{}}(inj{KBott{},Int{}}(V0:KBott{})),\or{K{}}(inj{Id{},K{}}(inj{KBott{},Id{}}(V0:KBott{})),\bottom{K{}}()))),
    \and{Cell{}}(
        \equals{K{},Cell{}}(V6:K{},\or{K{}}(inj{Int{},K{}}(inj{KBott{},Int{}}(V4:KBott{})),\or{K{}}(inj{Id{},K{}}(V5:Id{}),\bottom{K{}}()))),
    \and{Cell{}}(
        \equals{K{},Cell{}}(V3:K{},inj{Id{},K{}}(V2:Id{})),
cells{}(\or{K{}}(inj{Int{},K{}}(castToInt{}(\or{K{}}(inj{Id{},K{}}(rewId{}(V2:Id{},V5:Id{})),\or{K{}}(rewK{}(V3:K{},V6:K{}),\bottom{K{}}())))),\or{K{}}(rewK{}(V3:K{},inj{Int{},K{}}(castToInt{}(V6:K{}))),\bottom{K{}}())),V1:K{},V6:K{}))))))))))))))) []
  symbol castToInt{}(K{}):Int{} []
  symbol rewExp{}(Exp{}, Exp{}):Exp{} []
  /* input(Cell): <k> A => B </k>        <env> A:Id |-> B:Int </env> */
  axiom{} 
\exists{Cell{}}(V0:KBott{},
\exists{Cell{}}(V4:KBott{},
\exists{Cell{}}(V1:Id{},
\exists{Cell{}}(V5:Id{},
\exists{Cell{}}(V3:K{},
\exists{Cell{}}(V7:K{},
\exists{Cell{}}(V2:Int{},
\exists{Cell{}}(V6:Int{},
    \and{Cell{}}(
        \equals{KBott{},Cell{}}(V0:KBott{},inj{Variable{},KBott{}}(\dv{Variable{}}("A"))),
    \and{Cell{}}(
        \equals{KBott{},Cell{}}(V4:KBott{},inj{Variable{},KBott{}}(\dv{Variable{}}("B"))),
    \and{Cell{}}(
        \equals{Id{},Cell{}}(V1:Id{},inj{KBott{},Id{}}(V0:KBott{})),
    \and{Cell{}}(
        \equals{Id{},Cell{}}(V5:Id{},inj{KBott{},Id{}}(V4:KBott{})),
    \and{Cell{}}(
        \equals{K{},Cell{}}(V3:K{},\or{K{}}(inj{Int{},K{}}(V2:Int{}),\or{K{}}(inj{Id{},K{}}(V1:Id{}),\bottom{K{}}()))),
    \and{Cell{}}(
        \equals{K{},Cell{}}(V7:K{},\or{K{}}(inj{Int{},K{}}(V6:Int{}),\or{K{}}(inj{Id{},K{}}(V5:Id{}),\bottom{K{}}()))),
    \and{Cell{}}(
        \equals{Int{},Cell{}}(V2:Int{},inj{KBott{},Int{}}(V0:KBott{})),
    \and{Cell{}}(
        \equals{Int{},Cell{}}(V6:Int{},inj{KBott{},Int{}}(V4:KBott{})),
cells{}(\or{K{}}(inj{Int{},K{}}(rewInt{}(V2:Int{},V6:Int{})),\or{K{}}(inj{Id{},K{}}(rewId{}(V1:Id{},V5:Id{})),\or{K{}}(rewK{}(V3:K{},V7:K{}),\bottom{K{}}()))),inj{Id{},K{}}(castToId{}(V3:K{})),inj{Int{},K{}}(castToInt{}(V7:K{}))))))))))))))))))) []
  symbol Exp2Int{}(Int{}):Exp{} []
  symbol rewInt{}(Int{}, Int{}):Int{} []
  symbol rewK{}(K{}, K{}):K{} []
  symbol Exp2Id{}(Id{}):Exp{} []
  symbol castToId{}(K{}):Id{} []
endmodule []
